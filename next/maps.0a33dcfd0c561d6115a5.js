(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{111:function(e,t,a){"use strict";var n=a(0),s=a.n(n),l=a(17),r=Object(l.d)({ButtonGroup:e=>({display:e.inline?"inline-flex":"flex",flexWrap:"wrap",margin:"0 0.25rem","&>*":{flex:"1 1 auto","&:not(:first-child)":{borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-child)":{borderTopRightRadius:0,borderBottomRightRadius:0}}})});t.a=function(e){const{children:t,inline:a}=e,n=r({inline:a});return s.a.createElement("div",{className:n.ButtonGroup},t)}},170:function(e,t,a){"use strict";a.r(t);var n=a(48),s=a(30),l=a(44),r=a(111),o=a(14),c=a(16),i=a(15),u=a(0),m=a.n(u);var p=function(){var e;const t=g(),a=Object(s.c)(c.c),n=(Object(s.c)(o.e),Object(s.c)(o.d)),l=Object(s.c)(o.h),r=Object(s.b)(),[u,p]=m.a.useState("");if(null!=t.players)for(const s of Object.keys(a)){const o=a[s];let m=i.b[s].alive;if(o.section===n&&(m=i.b[s].dead),o.section!==l){const a={x:o.position.x,y:o.position.y,w:.4*m.w,h:.4*m.h};t.mouseDown?""===u&&t.mousePos.x>=a.x&&t.mousePos.x<=a.x+a.w&&t.mousePos.y>=a.y&&t.mousePos.y<=a.y+a.h?p(s):u===s&&(a.x=t.mousePos.x-a.w/2,a.y=t.mousePos.y-a.h/2):""!==u&&u===s&&(p(""),r(Object(c.i)({player:s,newPosition:{x:t.mousePos.x-a.w/2,y:t.mousePos.y-a.h/2}}))),null===(e=t.canvasContext)||void 0===e||e.drawImage(t.players,m.x,m.y,m.w,m.h,a.x,a.y,a.w,a.h)}}return null},d=a(17),f=Object(d.d)(e=>({Map:{width:"100%",height:"100%",maxHeight:"calc((var(--vh, 1vh) * 100) - 9rem)",fallbacks:{maxHeight:"calc(100vh - 9rem)"}},MapImage:{display:"none"}}));const h=m.a.createContext(null),b=m.a.createContext(0);const g=()=>(m.a.useContext(b),m.a.useContext(h));var x=function(){const e=Object(s.c)(n.b),t=Object(d.f)(),a=f(),l=m.a.useRef(null),r=m.a.useRef(null),o=m.a.useRef(null),c=m.a.useRef(null),i=m.a.useRef(null),[u,g]=m.a.useState(0),[x,y]=m.a.useState(null),[w,M]=m.a.useState(!1),[v,j]=m.a.useState({x:0,y:0}),[E,O]=m.a.useState(0);if(m.a.useEffect(()=>{const e=requestAnimationFrame(()=>{g(u+1)});return()=>{cancelAnimationFrame(e)}},[u]),m.a.useEffect(()=>{if(null!==l.current){const e=l.current.getContext("2d");null!==e&&y(e)}},[]),null!==x)if(x.clearRect(0,0,1920,1080),1===E){let t=r;switch(e){case"Polus":t=o;break;case"TheSkeld":t=c;break;default:t=r}null!==t.current&&x.drawImage(t.current,0,0,t.current.width,t.current.height,0,0,1920,880)}else x.fillStyle=t.textColorPrimary,x.font="40px impact",x.fillText("Loading...",910,530);return m.a.createElement(h.Provider,{value:{canvasContext:x,miraHQ:r.current,polus:o.current,theSkeld:c.current,players:i.current,mousePos:v,mouseDown:w}},m.a.createElement(b.Provider,{value:u},m.a.createElement("canvas",{ref:l,width:1920,height:1080,className:a.Map,onContextMenu:e=>e.preventDefault(),onMouseMove:e=>{const t=e.currentTarget.getBoundingClientRect();j({x:(e.clientX-t.left)*(1920/t.width),y:(e.clientY-t.top)*(1080/t.height)})},onMouseDown:e=>M(!0),onMouseUp:e=>M(!1)},"This section is not supported on your browser."),m.a.createElement("img",{ref:r,src:"assets/images/MiraHQ.png",alt:"MiraHQ Map",className:a.MapImage,onLoad:()=>O(E+.25)}),m.a.createElement("img",{ref:o,src:"assets/images/Polus.png",alt:"Polus Map",className:a.MapImage,onLoad:()=>O(E+.25)}),m.a.createElement("img",{ref:c,src:"assets/images/TheSkeld.png",alt:"TheSkeld Map",className:a.MapImage,onLoad:()=>O(E+.25)}),m.a.createElement("img",{ref:i,src:"assets/images/players.png",alt:"Map players",className:a.MapImage,onLoad:()=>O(E+.25)}),1===E&&m.a.createElement(p,null)))},y=a(26),w=Object(d.d)({Maps:{display:"flex",flexDirection:"column",justifyContent:"center",padding:"1rem",flexGrow:1},MapsHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},MapsTitle:{fontSize:"1.25rem",fontWeight:500,letterSpacing:"0.05em",marginRight:"1rem",flex:"1 0 auto"},MapsContainer:{flexGrow:1}}),M=a(99);t.default=function(){const e=Object(s.c)(y.b),t=Object(s.c)(n.b),a=Object(s.b)(),o=w(),{t:c}=Object(M.a)();return m.a.createElement("div",{className:o.Maps},m.a.createElement("div",{className:o.MapsHeader},!e&&m.a.createElement("h2",{className:o.MapsTitle},c("maps.title")),m.a.createElement(r.a,{inline:!e},m.a.createElement(l.b,{pressed:"TheSkeld"===t,onClick:()=>a(Object(n.c)("TheSkeld"))},"The Skeld"),m.a.createElement(l.b,{pressed:"MiraHQ"===t,onClick:()=>a(Object(n.c)("MiraHQ"))},"Mira HQ"),m.a.createElement(l.b,{pressed:"Polus"===t,onClick:()=>a(Object(n.c)("Polus"))},"Polus"))),m.a.createElement("div",{className:o.MapsContainer},m.a.createElement(x,null)))}}}]);