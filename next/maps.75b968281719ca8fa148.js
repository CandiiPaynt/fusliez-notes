(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{111:function(e,t,a){"use strict";var n=a(0),s=a.n(n),o=a(17),l=Object(o.d)({ButtonGroup:e=>({display:e.inline?"inline-flex":"flex",flexWrap:"wrap",margin:"0 0.25rem","&>*":{flex:"1 1 auto","&:not(:first-child)":{borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-child)":{borderTopRightRadius:0,borderBottomRightRadius:0}}})});t.a=function(e){const{children:t,inline:a}=e,n=l({inline:a});return s.a.createElement("div",{className:n.ButtonGroup},t)}},170:function(e,t,a){"use strict";a.r(t);var n=a(48),s=a(30),o=a(44),l=a(111),r=a(14),c=a(16),i=a(15),u=a(0),m=a.n(u);var p=function(){var e;const t=x(),a=Object(s.c)(c.c),n=(Object(s.c)(r.e),Object(s.c)(r.d)),o=Object(s.c)(r.h),l=Object(s.b)(),[u,p]=m.a.useState("");if(null!=t.players)for(const s of Object.keys(a)){const r=a[s];let m=i.b[s].alive;if(r.section===n&&(m=i.b[s].dead),r.section!==o){const a={x:r.position.x,y:r.position.y,w:.4*m.w,h:.4*m.h},n=t.canvasContext.canvas.width-a.w,o=t.canvasContext.canvas.height-a.h;t.mouseDown?""===u&&t.mousePos.x>=a.x&&t.mousePos.x<=a.x+a.w&&t.mousePos.y>=a.y&&t.mousePos.y<=a.y+a.h?p(s):u===s&&(a.x=Math.min(Math.max(0,t.mousePos.x-a.w/2),n),a.y=Math.min(Math.max(0,t.mousePos.y-a.h/2),o)):""!==u&&u===s&&(p(""),l(Object(c.i)({player:s,newPosition:{x:Math.min(Math.max(0,t.mousePos.x-a.w/2),n),y:Math.min(Math.max(0,t.mousePos.y-a.h/2),o)}}))),null===(e=t.canvasContext)||void 0===e||e.drawImage(t.players,m.x,m.y,m.w,m.h,a.x,a.y,a.w,a.h)}}return null},h=a(17),d=Object(h.d)(e=>({Map:{width:"100%",height:"100%",maxHeight:"calc((var(--vh, 1vh) * 100) - 9rem)",fallbacks:{maxHeight:"calc(100vh - 9rem)"},overscrollBehavior:"none",touchAction:"none"},MapImage:{display:"none"}}));const f=m.a.createContext(null),g=m.a.createContext(0);const x=()=>(m.a.useContext(g),m.a.useContext(f));var b=function(){const e=Object(s.c)(n.b),t=Object(h.f)(),a=d(),o=m.a.useRef(null),l=m.a.useRef(null),r=m.a.useRef(null),c=m.a.useRef(null),i=m.a.useRef(null),[u,x]=m.a.useState(0),[b,M]=m.a.useState(null),[v,w]=m.a.useState(!1),[y,j]=m.a.useState({x:0,y:0}),[C,E]=m.a.useState(0);if(m.a.useEffect(()=>{const e=requestAnimationFrame(()=>{x(u+1)});return()=>{cancelAnimationFrame(e)}},[u]),m.a.useEffect(()=>{if(null!==o.current){const e=o.current.getContext("2d");null!==e&&M(e)}},[]),null!==b)if(b.clearRect(0,0,1920,1080),1===C){let t=l;switch(e){case"Polus":t=r;break;case"TheSkeld":t=c;break;default:t=l}null!==t.current&&b.drawImage(t.current,0,0,t.current.width,t.current.height,0,0,1920,880)}else b.fillStyle=t.textColorPrimary,b.font="40px impact",b.fillText("Loading...",910,530);const O=e=>{const t=e.currentTarget.getBoundingClientRect();j({x:(e.touches[0].clientX-t.left)*(1920/t.width),y:(e.touches[0].clientY-t.top)*(1080/t.height)})};return m.a.createElement(f.Provider,{value:{canvasContext:b,miraHQ:l.current,polus:r.current,theSkeld:c.current,players:i.current,mousePos:y,mouseDown:v}},m.a.createElement(g.Provider,{value:u},m.a.createElement("canvas",{ref:o,width:1920,height:1080,className:a.Map,onContextMenu:e=>e.preventDefault(),onMouseMove:e=>{const t=e.currentTarget.getBoundingClientRect();j({x:(e.clientX-t.left)*(1920/t.width),y:(e.clientY-t.top)*(1080/t.height)})},onMouseDown:e=>{e.preventDefault(),w(!0)},onMouseUp:e=>{e.preventDefault(),w(!1)},onMouseLeave:e=>w(!1),onTouchStart:e=>{e.preventDefault(),O(e),w(!0)},onTouchEnd:e=>{e.preventDefault(),w(!1)},onTouchCancel:e=>{e.preventDefault(),w(!1)},onTouchMove:e=>{e.preventDefault(),O(e)}},"This section is not supported on your browser."),m.a.createElement("img",{ref:l,src:"assets/images/MiraHQ.png",alt:"MiraHQ Map",className:a.MapImage,onLoad:()=>E(C+.25)}),m.a.createElement("img",{ref:r,src:"assets/images/Polus.png",alt:"Polus Map",className:a.MapImage,onLoad:()=>E(C+.25)}),m.a.createElement("img",{ref:c,src:"assets/images/TheSkeld.png",alt:"TheSkeld Map",className:a.MapImage,onLoad:()=>E(C+.25)}),m.a.createElement("img",{ref:i,src:"assets/images/players.png",alt:"Map players",className:a.MapImage,onLoad:()=>E(C+.25)}),1===C&&m.a.createElement(p,null)))},M=a(26),v=Object(h.d)({Maps:{display:"flex",flexDirection:"column",justifyContent:"center",padding:"1rem",flexGrow:1},MapsHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},MapsTitle:{fontSize:"1.25rem",fontWeight:500,letterSpacing:"0.05em",marginRight:"1rem",flex:"1 0 auto"},MapsContainer:{flexGrow:1}}),w=a(99);t.default=function(){const e=Object(s.c)(M.b),t=Object(s.c)(n.b),a=Object(s.b)(),r=v(),{t:c}=Object(w.a)();return m.a.createElement("div",{className:r.Maps},m.a.createElement("div",{className:r.MapsHeader},!e&&m.a.createElement("h2",{className:r.MapsTitle},c("maps.title")),m.a.createElement(l.a,{inline:!e},m.a.createElement(o.b,{pressed:"TheSkeld"===t,onClick:()=>a(Object(n.c)("TheSkeld"))},"The Skeld"),m.a.createElement(o.b,{pressed:"MiraHQ"===t,onClick:()=>a(Object(n.c)("MiraHQ"))},"Mira HQ"),m.a.createElement(o.b,{pressed:"Polus"===t,onClick:()=>a(Object(n.c)("Polus"))},"Polus"))),m.a.createElement("div",{className:r.MapsContainer},m.a.createElement(b,null)))}}}]);